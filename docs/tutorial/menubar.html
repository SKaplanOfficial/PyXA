<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add Items to the Menu Bar &mdash; PyXA 0.2.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Reading RSS Feeds" href="extensions/web/rssfeed.html" />
    <link rel="prev" title="Running AppleScripts" href="applescript.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> PyXA
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">Project Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#basic-usage">Basic Usage</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#additional-tutorial-topics">Additional Tutorial Topics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="apps/index.html">Application Module Overviews</a></li>
<li class="toctree-l3"><a class="reference internal" href="lists.html">Working With Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="images.html">Working with Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="clipboard.html">Working With The Clipboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_input.html">Getting User Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="spotlight.html">Searching Spotlight</a></li>
<li class="toctree-l3"><a class="reference internal" href="ui_scripting.html">UI Scripting</a></li>
<li class="toctree-l3"><a class="reference internal" href="applescript.html">Running AppleScripts</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Add Items to the Menu Bar</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-basics">The Basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#customization">Customization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="extensions/web/rssfeed.html">Reading RSS Feeds</a></li>
<li class="toctree-l3"><a class="reference internal" href="appscript.html">Using Appscript to Work With Unsupported Applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="tips_tricks.html">Tips and Tricks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Code Documentation and Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bugs.html">Bugs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyXA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Tutorial</a></li>
      <li class="breadcrumb-item active">Add Items to the Menu Bar</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/tutorial/menubar.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="add-items-to-the-menu-bar">
<h1>Add Items to the Menu Bar<a class="headerlink" href="#add-items-to-the-menu-bar" title="Permalink to this heading">ÔÉÅ</a></h1>
<section id="the-basics">
<h2>The Basics<a class="headerlink" href="#the-basics" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>PyXA provides a straightforward way to add interactive items to the top menu bar of your Mac. Using the <code class="xref py py-class docutils literal notranslate"><span class="pre">XAMenuBar</span></code> class, you can add new menus, attach items and actions to them, and customize them in just a few lines of code. For example, the four line code below creates a new menu titled ‚ÄúHello‚Äù and places it on the right side of the menu bar, to the left of any existing items.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">PyXA</span>
<span class="n">menu_bar</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAMenuBar</span><span class="p">()</span>
<span class="n">m1</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="s2">&quot;Hello!&quot;</span><span class="p">)</span>
<span class="n">menu_bar</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<p>This code instantiates a new <code class="xref py py-class docutils literal notranslate"><span class="pre">XAMenuBarMenu</span></code> object with ‚ÄúHello‚Äù as its title text, then displays the menu in the system status bar. We haven‚Äôt added any interactivity yet, but PyXA already handles the task of adding a ‚ÄúQuit‚Äù option to the menu. Helpful! When you run this code, you should see something along these lines (though your icons may be in a different order):</p>
<img alt="../_images/HelloMenu.png" src="../_images/HelloMenu.png" />
<p>Note that, unlike many other PyXA features, your menu bar script will stay running until you specific tell it to quit. This allows you to create create customizations to your menu bar that persist throughout your work session. If you set the script to run on startup, you can create a persistent modification to the menu bar in this way.</p>
<p>The script above creates menu button that currently doesn‚Äôt do anything. To add interactivity, use the <code class="xref py py-func docutils literal notranslate"><span class="pre">new_item()</span></code> method to associate a menu item with some method. Continuing our example, let‚Äôs add a menu item that, when clicked, prints ‚ÄúHi‚Äù to the Terminal. This change can be made by adding a single line, as seen below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">PyXA</span>
<span class="n">menu_bar</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAMenuBar</span><span class="p">()</span>
<span class="n">menu</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="s2">&quot;Hello!&quot;</span><span class="p">)</span>
<span class="n">item</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">&quot;Print Hi&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="n">item</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hi&quot;</span><span class="p">))</span>
<span class="n">menu_bar</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">new_item()</span></code> method associates an action method to a menu item with a given ID. When that item is clicked by the user, the action method will be executed. The above code, when run, produces the following menu:</p>
<img alt="../_images/PrintHi.png" src="../_images/PrintHi.png" />
<p>The code above uses a lambda function to specify our method; this is a convenient way to write the code concisely, but you can also pass in a normal function name to achieve the same effect. The code above can also be expressed as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">PyXA</span>

<span class="k">def</span> <span class="nf">print_hi</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hi&quot;</span><span class="p">)</span>

<span class="n">menu_bar</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAMenuBar</span><span class="p">()</span>
<span class="n">menu</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="s2">&quot;Hello!&quot;</span><span class="p">)</span>
<span class="n">item</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">&quot;Print Hi&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">print_hi</span><span class="p">)</span>
<span class="n">menu_bar</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/PrintHiImage.png" src="../_images/PrintHiImage.png" />
<p>Menus, menu items, and subitems all accept an optional <cite>action</cite> argument, allowing you to set a method to be executed when a menu is opened or a menu item is clicked.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">PyXA</span>

<span class="c1"># State-based images</span>
<span class="n">on_icon</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s2">&quot;sun.max&quot;</span><span class="p">)</span>
<span class="n">off_icon</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s2">&quot;moon&quot;</span><span class="p">)</span>
<span class="n">state</span> <span class="o">=</span> <span class="kc">True</span>

<span class="k">def</span> <span class="nf">toggle_state</span><span class="p">(</span><span class="n">menu</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">state</span>
    <span class="k">if</span> <span class="n">button</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="c1"># Handle right click -- toggle state</span>
        <span class="n">state</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">state</span>
        <span class="n">menu</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="n">on_icon</span> <span class="k">if</span> <span class="n">state</span> <span class="k">else</span> <span class="n">off_icon</span>

<span class="c1"># Create and display the menu</span>
<span class="n">menu_bar</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAMenuBar</span><span class="p">()</span>
<span class="n">menu</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="n">icon</span><span class="o">=</span><span class="n">on_icon</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">toggle_state</span><span class="p">)</span>
<span class="n">menu_bar</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<p>To add a submenu to a menu item, use <code class="xref py py-func docutils literal notranslate"><span class="pre">new_subitem()</span></code>. Likewise, to add a non-interactive separator item, use <code class="xref py py-func docutils literal notranslate"><span class="pre">add_separator()</span></code>. Using these building blocks, you can easily add additional menus and menu items, further extending the functionality of your menu bar. A few examples are provided below.</p>
<section id="example-1-application-launcher">
<h3>Example 1 - Application Launcher<a class="headerlink" href="#example-1-application-launcher" title="Permalink to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">PyXA</span>

<span class="c1"># Initialize application objects</span>
<span class="n">safari</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">Application</span><span class="p">(</span><span class="s2">&quot;Safari&quot;</span><span class="p">)</span>
<span class="n">messages</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">Application</span><span class="p">(</span><span class="s2">&quot;Messages&quot;</span><span class="p">)</span>
<span class="n">notes</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">Application</span><span class="p">(</span><span class="s2">&quot;Notes&quot;</span><span class="p">)</span>
<span class="n">shortcuts</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">Application</span><span class="p">(</span><span class="s2">&quot;Shortcuts&quot;</span><span class="p">)</span>
<span class="n">discord</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">Application</span><span class="p">(</span><span class="s2">&quot;Discord&quot;</span><span class="p">)</span>
<span class="n">github</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">Application</span><span class="p">(</span><span class="s2">&quot;GitHub Desktop&quot;</span><span class="p">)</span>
<span class="n">vscode</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">Application</span><span class="p">(</span><span class="s2">&quot;Visual Studio Code&quot;</span><span class="p">)</span>

<span class="c1"># Construct the menu</span>
<span class="n">menu_bar</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAMenuBar</span><span class="p">()</span>
<span class="n">app_menu</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="n">icon</span><span class="o">=</span><span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s2">&quot;square.grid.2x2&quot;</span><span class="p">))</span>  <span class="c1"># Give the menu an app grid-esque icon</span>
<span class="n">app_menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">&quot;Safari&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">safari</span><span class="o">.</span><span class="n">activate</span><span class="p">(),</span> <span class="n">icon</span><span class="o">=</span><span class="n">safari</span><span class="o">.</span><span class="n">icon</span><span class="p">)</span> <span class="c1"># Use the application icons as menu item images</span>
<span class="n">app_menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Messages&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">messages</span><span class="o">.</span><span class="n">activate</span><span class="p">(),</span> <span class="n">icon</span><span class="o">=</span><span class="n">messages</span><span class="o">.</span><span class="n">icon</span><span class="p">)</span>
<span class="n">app_menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Notes&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">notes</span><span class="o">.</span><span class="n">activate</span><span class="p">(),</span> <span class="n">icon</span><span class="o">=</span><span class="n">notes</span><span class="o">.</span><span class="n">icon</span><span class="p">)</span>
<span class="n">app_menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Shortcuts&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">shortcuts</span><span class="o">.</span><span class="n">activate</span><span class="p">(),</span> <span class="n">icon</span><span class="o">=</span><span class="n">shortcuts</span><span class="o">.</span><span class="n">icon</span><span class="p">)</span>
<span class="n">app_menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Discord&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">discord</span><span class="o">.</span><span class="n">activate</span><span class="p">(),</span> <span class="n">icon</span><span class="o">=</span><span class="n">discord</span><span class="o">.</span><span class="n">icon</span><span class="p">)</span>
<span class="n">app_menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;GitHub Desktop&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">github</span><span class="o">.</span><span class="n">activate</span><span class="p">(),</span> <span class="n">icon</span><span class="o">=</span><span class="n">github</span><span class="o">.</span><span class="n">icon</span><span class="p">)</span>
<span class="n">app_menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Visual Studio Code&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">vscode</span><span class="o">.</span><span class="n">activate</span><span class="p">(),</span> <span class="n">icon</span><span class="o">=</span><span class="n">vscode</span><span class="o">.</span><span class="n">icon</span><span class="p">)</span>
<span class="n">menu_bar</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="example-2-emoji-bookmarks">
<h3>Example 2 - Emoji Bookmarks<a class="headerlink" href="#example-2-emoji-bookmarks" title="Permalink to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">PyXA</span>
<span class="n">menu_bar</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAMenuBar</span><span class="p">()</span>
<span class="n">m1</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="s2">&quot;üå¶&quot;</span><span class="p">)</span>
<span class="n">m1</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Weather.gov&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAURL</span><span class="p">(</span><span class="s2">&quot;https://www.weather.gov&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">())</span>
<span class="n">m1</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Weather.com&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAURL</span><span class="p">(</span><span class="s2">&quot;https://weather.com/weather/today&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">())</span>
<span class="n">m1</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Accuweather.com&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAURL</span><span class="p">(</span><span class="s2">&quot;https://www.accuweather.com&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">())</span>

<span class="n">m2</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="s2">&quot;üìñ&quot;</span><span class="p">)</span>
<span class="n">m2</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Develop in Swift&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAURL</span><span class="p">(</span><span class="s2">&quot;https://books.apple.com/us/book/develop-in-swift-fundamentals/id1511184145&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">())</span>
<span class="n">m2</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;NYTimes&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAURL</span><span class="p">(</span><span class="s2">&quot;https://www.nytimes.com&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">())</span>
<span class="n">m2</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;New York Public Library&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAURL</span><span class="p">(</span><span class="s2">&quot;https://www.nypl.org&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">())</span>

<span class="n">m3</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="s2">&quot;ü¶ä&quot;</span><span class="p">)</span>
<span class="n">m3</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Random Fox Image&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAURL</span><span class="p">(</span><span class="s2">&quot;https://randomfox.ca&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">())</span>
<span class="n">m3</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Random Duck Image&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAURL</span><span class="p">(</span><span class="s2">&quot;https://generatorfun.com/random-duck-image&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">())</span>
<span class="n">m3</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Random Cat Image&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAURL</span><span class="p">(</span><span class="s2">&quot;https://genrandom.com/cats/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">())</span>
<span class="n">menu_bar</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="example-3-application-controller">
<h3>Example 3 - Application Controller<a class="headerlink" href="#example-3-application-controller" title="Permalink to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">PyXA</span>

<span class="n">menu_bar</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAMenuBar</span><span class="p">()</span>
<span class="n">menu</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="s2">&quot;‚öôÔ∏è&quot;</span><span class="p">)</span>
<span class="n">menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Minimize all windows&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">running_applications</span><span class="p">()</span><span class="o">.</span><span class="n">windows</span><span class="p">()</span><span class="o">.</span><span class="n">collapse</span><span class="p">(),</span> <span class="n">icon</span><span class="o">=</span><span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s2">&quot;dock.arrow.down.rectangle&quot;</span><span class="p">))</span>
<span class="n">menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Hide all applications&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">running_applications</span><span class="p">()</span><span class="o">.</span><span class="n">hide</span><span class="p">(),</span> <span class="n">icon</span><span class="o">=</span><span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s2">&quot;eye.slash&quot;</span><span class="p">))</span>
<span class="n">menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Quite all applications&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">running_applications</span><span class="p">()</span><span class="o">.</span><span class="n">terminate</span><span class="p">(),</span> <span class="n">icon</span><span class="o">=</span><span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s2">&quot;xmark.circle&quot;</span><span class="p">))</span>
<span class="n">menu_bar</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="customization">
<h2>Customization<a class="headerlink" href="#customization" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>You can customize your menu bar items by adding images to them, as well as by adjusting the width and height of the images. Additional customization options might be added in the future.</p>
<p>To display an image on the menu bar, create an <a class="reference internal" href="../reference/xabase.html#PyXA.XABase.XAImage" title="PyXA.XABase.XAImage"><code class="xref py py-class docutils literal notranslate"><span class="pre">XAImage</span></code></a> object and set it as the image argument when calling <code class="xref py py-func docutils literal notranslate"><span class="pre">new_menu()</span></code>. The example below shows this in action ‚Äì and it even draws the image from an online source (though you could just as easily use a local source instead). When calling <code class="xref py py-func docutils literal notranslate"><span class="pre">new_menu()</span></code>, you can also specify the <cite>image_dimensions</cite> argument to customize the size of the image.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">PyXA</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="p">(</span><span class="s2">&quot;https://www.nasa.gov/sites/default/files/thumbnails/image/main_image_star-forming_region_carina_nircam_final-5mb.jpg&quot;</span><span class="p">)</span>
<span class="n">menu_bar</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAMenuBar</span><span class="p">()</span>
<span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="n">icon</span><span class="o">=</span><span class="n">img</span><span class="p">,</span> <span class="n">icon_dimensions</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
<span class="n">menu_bar</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/JWSTMenuBar.png" src="../_images/JWSTMenuBar.png" />
<p>You can update the image during runtime by setting the <code class="xref py py-attr docutils literal notranslate"><span class="pre">image</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">image_dimensions</span></code> attributes. The code below displays a random fox image in the menu bar and allows users to click a ‚ÄúRandom Fox‚Äù menu item to retrieve a new image.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">PyXA</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="k">def</span> <span class="nf">random_fox_link</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://randomfox.ca/floof/&quot;</span><span class="p">)</span>
    <span class="n">json_data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">json_data</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">update_image</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">button</span><span class="p">,</span> <span class="n">menu</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="p">(</span><span class="n">random_fox_link</span><span class="p">())</span>
    <span class="n">menu</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="n">img</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="p">(</span><span class="n">random_fox_link</span><span class="p">())</span>
<span class="n">menu_bar</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAMenuBar</span><span class="p">()</span>
<span class="n">menu</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="n">icon</span><span class="o">=</span><span class="n">img</span><span class="p">,</span> <span class="n">icon_dimensions</span><span class="o">=</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">44</span><span class="p">))</span>
<span class="n">menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Random Fox&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">update_image</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">menu</span><span class="p">])</span>
<span class="n">menu_bar</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also add images to menu items in a similar manner. When calling <code class="xref py py-func docutils literal notranslate"><span class="pre">PyXA.XABase.XAMenuBarMenu.new_item()</span></code>, provide an <cite>image</cite> argument alongside an optional <cite>image_dimensions</cite> argument. The example below creates three menu items, each with an image attached. While the width and height for a menu in the menu bar is limited to the available space, there is no such restriction for items within menus ‚Äì you can set the image to be as large or as small as you want.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">PyXA</span>

<span class="n">icon1</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="p">(</span><span class="s2">&quot;/Users/exampleUser/Documents/icon1.jpg&quot;</span><span class="p">)</span>
<span class="n">icon2</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="p">(</span><span class="s2">&quot;/Users/exampleUser/Documents/icon2.jpg&quot;</span><span class="p">)</span>
<span class="n">icon3</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="p">(</span><span class="s2">&quot;/Users/exampleUser/Documents/icon3.jpg&quot;</span><span class="p">)</span>

<span class="n">menu_bar</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAMenuBar</span><span class="p">()</span>
<span class="n">menu</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="s2">&quot;Menu 1&quot;</span><span class="p">)</span>
<span class="n">menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Item 1&quot;</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="n">icon1</span><span class="p">)</span>
<span class="n">menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Item 2&quot;</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="n">icon2</span><span class="p">,</span> <span class="n">icon_dimensions</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>
<span class="n">menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Item 3&quot;</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="n">icon3</span><span class="p">,</span> <span class="n">icon_dimensions</span><span class="o">=</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">250</span><span class="p">))</span>
<span class="n">menu_bar</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/MenuItemImages.png" src="../_images/MenuItemImages.png" />
<p>Another way to customize your menus is by modifying the text that they display. By default, menus and menu items will display the name that they are given upon creation, but you can modify the displayed text by setting the <code class="xref py py-attr docutils literal notranslate"><span class="pre">title</span></code> attribute. The example below uses this feature to create a near-live CPU monitor in the menu bar:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">PyXA</span>
<span class="kn">import</span> <span class="nn">psutil</span>
<span class="kn">import</span> <span class="nn">threading</span>

<span class="n">update_interval</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">set_update_interval</span><span class="p">(</span><span class="n">slider</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">update_interval</span>
    <span class="n">update_interval</span> <span class="o">=</span> <span class="p">(</span><span class="n">slider</span><span class="o">.</span><span class="n">value</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span>

<span class="n">menu_bar</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAMenuBar</span><span class="p">()</span>
<span class="n">graph_menu</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="n">icon_dimensions</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">text_menu</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">new_menu</span><span class="p">(</span><span class="s2">&quot;CPU: 0%&quot;</span><span class="p">)</span>

<span class="n">slider_label</span> <span class="o">=</span> <span class="n">graph_menu</span><span class="o">.</span><span class="n">new_item</span><span class="p">(</span><span class="s2">&quot;Update Interval&quot;</span><span class="p">)</span>
<span class="n">slider_label</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">interval_slider</span> <span class="o">=</span> <span class="n">graph_menu</span><span class="o">.</span><span class="n">new_slider_item</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="n">set_update_interval</span><span class="p">)</span>
<span class="n">interval_slider</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">9.9</span>

<span class="k">def</span> <span class="nf">update_display</span><span class="p">():</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># Get CPU utilization, update title text</span>
        <span class="n">cpu_usage</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">cpu_percent</span><span class="p">(</span><span class="n">update_interval</span><span class="p">)</span>
        <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;CPU: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cpu_usage</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;%&quot;</span>
        <span class="n">text_menu</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">message</span>

        <span class="c1"># Construct graph image</span>
        <span class="n">used_graph_height</span> <span class="o">=</span> <span class="mi">20</span> <span class="o">*</span> <span class="n">cpu_usage</span> <span class="o">/</span> <span class="mf">100.0</span>
        <span class="n">used_color</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAColor</span><span class="o">.</span><span class="n">green</span><span class="p">()</span> <span class="k">if</span> <span class="n">cpu_usage</span> <span class="o">&lt;</span> <span class="mi">60</span> <span class="k">else</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAColor</span><span class="o">.</span><span class="n">red</span><span class="p">()</span>
        <span class="n">used_swatch</span> <span class="o">=</span> <span class="n">used_color</span><span class="o">.</span><span class="n">make_swatch</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">used_graph_height</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">divider_swatch</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAColor</span><span class="o">.</span><span class="n">black</span><span class="p">()</span><span class="o">.</span><span class="n">make_swatch</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">free_swatch</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAColor</span><span class="o">.</span><span class="n">gray</span><span class="p">()</span><span class="o">.</span><span class="n">make_swatch</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span> <span class="o">-</span> <span class="n">used_graph_height</span><span class="p">)</span>

        <span class="c1"># Display utilization graph</span>
        <span class="n">graph_img</span> <span class="o">=</span> <span class="n">PyXA</span><span class="o">.</span><span class="n">XAImage</span><span class="o">.</span><span class="n">vertical_stitch</span><span class="p">([</span><span class="n">used_swatch</span><span class="p">,</span> <span class="n">divider_swatch</span><span class="p">,</span> <span class="n">free_swatch</span><span class="p">])</span>
        <span class="n">graph_menu</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="n">graph_img</span>

<span class="n">cpu_monitor</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">update_display</span><span class="p">)</span>
<span class="n">cpu_monitor</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">menu_bar</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/CPUMonitor.png" src="../_images/CPUMonitor.png" />
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="applescript.html" class="btn btn-neutral float-left" title="Running AppleScripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="extensions/web/rssfeed.html" class="btn btn-neutral float-right" title="Reading RSS Feeds" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Stephen Kaplan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>